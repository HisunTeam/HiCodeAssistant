<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.hisun.code-assistant</id>
    <name>HiCodeAssistant</name>
    <vendor>hisun</vendor>

    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <postStartupActivity implementation="com.hisun.codeassistant.HiCodeAssistantStartupActivity"/>

        <applicationConfigurable id="settings.hicodeassistant" parentId="tools" displayName="Hisun Code Assistant"
                                 instance="com.hisun.codeassistant.settings.SettingsConfigurable"/>

        <applicationService serviceImplementation="com.hisun.codeassistant.settings.state.SettingsState"/>
        <applicationService serviceImplementation="com.hisun.codeassistant.settings.state.OpenAISettingsState"/>
        <applicationService serviceImplementation="com.hisun.codeassistant.settings.state.SelfHostedLanguageModelSettingsState"/>
        <applicationService serviceImplementation="com.hisun.codeassistant.settings.state.IncludedFilesSettingsState"/>
        <applicationService serviceImplementation="com.hisun.codeassistant.settings.configuration.ConfigurationState"/>
        <applicationService serviceImplementation="com.hisun.codeassistant.conversations.ConversationsState"/>

        <toolWindow id="HiCodeAssistant" icon="com.hisun.codeassistant.HiCodeAssistantIcons.SYSTEM_ICON" anchor="right"
                    factoryClass="com.hisun.codeassistant.toolwindows.ProjectToolWindowFactory"/>
        <notificationGroup id="HiCodeAssistant Notification Group" displayType="BALLOON" key="notification.group.name"/>

    </extensions>

    <resource-bundle>messages.hi-code-assistant</resource-bundle>

    <actions>
        <group id="HiCodeAssistantEditorPopup"
               text="HiCodeAssistant"
               class="com.intellij.openapi.actionSystem.DefaultActionGroup"
               popup="true"
               icon="com.hisun.codeassistant.HiCodeAssistantIcons.SYSTEM_ICON">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </group>
    </actions>
</idea-plugin>
